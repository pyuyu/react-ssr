{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/About.js","webpack:///./src/components/Contact.js","webpack:///./src/components/Header.js","webpack:///./src/components/Home.js","webpack:///./src/components/Layout.js","webpack:///./src/components/Secret.js","webpack:///./src/routes.js","webpack:///./src/server/api.js","webpack:///./src/server/index.js","webpack:///./src/server/utils.js","webpack:///./src/store.js","webpack:///external \"express\"","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-helmet\"","webpack:///external \"react-redux\"","webpack:///external \"react-router-dom\"","webpack:///external \"redux\"","webpack:///external \"redux-thunk\"","webpack:///external \"serialize-javascript\""],"names":["About","Contact","Header","loggedIn","login","logout","mapStateToProps","state","mapDispatchToProps","dispatch","Home","props","list","length","fetchData","map","item","React","Component","serverFetch","data","Layout","title","routes","route","path","Secret","component","exact","fetchFeatures","Promise","resolve","reject","setTimeout","app","use","express","static","get","req","res","store","context","dataRequirements","filter","url","comp","all","then","writeHead","html","end","server","listen","render","content","helmetData","Helmet","renderStatic","reduxState","getState","toString","meta","isJSON","initializeSession","type","storeData","sessionReducer","action","console","log","dataReducer","reducer","initialState","thunkMiddleware"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/server/index.js\");\n","import React from \"react\";\n\nconst About = () => (\n    <div className=\"wrapper\">\n        <h2>This is the about page</h2>\n    </div>\n);\n\nexport default About;\n","import React from \"react\";\nimport Helmet from \"react-helmet\";\n\nconst Contact = () => (\n    <div className=\"wrapper\">\n        <h2>This is the contact page</h2>\n        <Helmet>\n            <title>Contact Page</title>\n            <meta name=\"description\" content=\"This is a proof of concept for React SSR\" />\n        </Helmet>\n    </div>\n);\n\nexport default Contact;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { login, logout } from '../store';\n\nconst Header = ({ loggedIn, login, logout }) => (\n    <div>\n        <Link to=\"/\" className=\"link\">Home</Link>\n        <Link to=\"/about\" className=\"link\">About</Link>\n        <Link to=\"/contact\" className=\"link\">Contact</Link>\n        { \n            loggedIn ? \n            <React.Fragment>\n                <Link to=\"/secret\" className=\"link\">Personal Page</Link>\n                <button onClick={() => logout()}>Logout</button>\n            </React.Fragment> : \n            <button onClick={() => login()}>Login</button> \n        }\n    </div>\n);\n\nconst mapStateToProps = (state) => ({\n    loggedIn: state.loggedIn,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        login: () => {\n            dispatch(login())\n        },\n        logout: () => {\n            dispatch(logout())\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchData } from \"../store\";\n\nclass Home extends React.Component {\n    componentDidMount() {\n        if (this.props.list.length <= 0) {\n            this.props.fetchData();\n        }\n    }\n\n    render() {\n        const { list } = this.props;\n        return (\n            <div className=\"wrapper\">\n                <h2>React 16 new features</h2>\n                <ul>\n                    {\n                        list.map(item => (\n                            <li key={item}> {item} </li>\n                        ))\n                    }\n                </ul>\n            </div>\n       );\n    }\n}\nHome.serverFetch = fetchData;\n\nconst mapStateToProps = (state) => ({\n    list: state.data,\n});\n\nconst mapDispatchToProps = {\n    fetchData,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport routes from \"../routes\";\n\nclass Layout extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            title: \"Hello React SSR!\",\n        };\n    }\n\n    render() {\n        return (\n            <div>\n                <h1>{ this.state.title }</h1>\n                <Header />\n                <Switch>\n                    { routes.map( route => <Route key={ route.path } { ...route } /> ) }\n                </Switch>\n            </div>\n        );\n    }\n}\n\nexport default Layout;\n","import React from \"react\";\n\nconst Secret = () => (\n    <div className=\"wrapper\">\n        <h2>This is a prersonal page</h2>\n    </div>\n);\n\nexport default Secret;\n","import Home from \"./components/Home\";\nimport About from \"./components/About\";\nimport Contact from \"./components/Contact\";\nimport Secret from \"./components/Secret\";\n\nexport default [\n    {\n        path: \"/\",\n        component: Home,\n        exact: true,\n    },\n    {\n        path: \"/about\",\n        component: About,\n        exact: true,\n    },\n    {\n        path: \"/contact\",\n        component: Contact,\n        exact: true,\n    },\n    {\n        path: \"/secret\",\n        component: Secret,\n        exact: true,\n    },\n];\n","export function fetchFeatures() {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            resolve(['1','2','3']);\n        }, 2000);\n    })\n}","import express from 'express';\nimport { render } from './utils';\nimport createStore, { initializeSession } from \"../store\";\nimport { matchPath } from \"react-router-dom\";\nimport routes from \"../routes\";\n\nconst app = express();\napp.use(express.static('public'));\n\napp.get('*', function (req, res) {\n\tconst store = createStore();\n\tstore.dispatch(initializeSession());\n\tlet context = {};\n\n\tconst dataRequirements =\n\troutes.filter( route => matchPath( req.url, route ) )\n\t\t.map( route => route.component )\n\t\t.filter( comp => comp.serverFetch )\n\t\t.map( comp => store.dispatch( comp.serverFetch( ) ) );\n\n\tPromise.all( dataRequirements ).then( ( ) => {\n\t\tres.writeHead( 200, { \"Content-Type\": \"text/html\" } );\n\t\tconst html = render(store, req, context)\n\t\tres.end(html);\n\t});\n});\n\nconst server = app.listen(3000);","import { renderToString } from 'react-dom/server';\nimport { StaticRouter } from 'react-router-dom'; \nimport { Provider } from 'react-redux';\nimport React from 'react'\nimport Layout from \"../components/Layout\";\nimport serialize from \"serialize-javascript\";\nimport { Helmet } from 'react-helmet';\n\nexport const render = (store, req, context) => {\n  const content = renderToString(\n    <Provider store={store}>\n      <StaticRouter location={req.path} context={context}>\n        <Layout />\n      </StaticRouter>\n    </Provider>\n  );\n\n  const helmetData = Helmet.renderStatic();\n  const reduxState = store.getState();\n\n\n  return `\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <meta charset=\"utf-8\">\n        ${ helmetData.title.toString() }\n        ${ helmetData.meta.toString() }\n        <title>React SSR</title>\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"./styles.css\" />\n      </head>\n      \n      <body>\n        <div id=\"root\">${content}</div>\n        <script>\n          window.REDUX_DATA = ${ serialize( reduxState, { isJSON: true } ) }\n        </script>\n        <script src=\"/index.js\"></script>\n      </body>\n    </html>\n  `\n}","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { fetchFeatures } from \"./server/api.js\";\n\nexport const initializeSession = () => ({\n    type: \"INITIALIZE_SESSION\",\n});\n\nexport const login = () => ({\n    type: \"LOGIN\",\n});\n\nexport const logout = () => ({\n    type: \"LOGOUT\",\n});\n\nconst storeData = (data) => ({\n    type: \"STORE_DATA\",\n    data,\n});\n\nexport const fetchData = () => (dispatch) =>\nfetchFeatures().then(res => dispatch(storeData(res)));\n\n\nconst sessionReducer = (state = false, action) => {\n    switch (action.type) {\n        case \"INITIALIZE_SESSION\" :\n            return false;\n        case \"LOGOUT\" :\n            console.log('logout!')\n            return false;\n        case \"LOGIN\":\n            console.log('login!')\n            return true;\n        default: \n            return state;\n    }\n};\n\nconst dataReducer = (state = [], action) => {\n    switch (action.type) {\n        case \"STORE_DATA\":\n            return action.data;\n        default: return state;\n    }\n};\n\nconst reducer = combineReducers({\n    loggedIn: sessionReducer,\n    data: dataReducer,\n});\n\nexport default (initialState) => createStore(reducer, initialState, applyMiddleware(thunkMiddleware));\n","module.exports = require(\"express\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-helmet\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"redux\");","module.exports = require(\"redux-thunk\");","module.exports = require(\"serialize-javascript\");"],"sourceRoot":""}